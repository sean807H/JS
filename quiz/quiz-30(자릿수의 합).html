<html>

<head>
    <title>자릿수의 합</title>
</head>

<body>
    <!-- 문제 : N개의 자연수가 입력되면 각 자릿수의 합을 구하고, 그 합이 최대인 자연수를 출력하시요. 단 자릿수의 합이 같은 경우에는 큰 숫자를 출력할 것!
         (만약 235와 1234 두 숫자가 자릿수의 합이 10으로 같을 경우에는 큰 수인 1234를 출력한다.) -->
    <!-- 입력 : 첫 줄에 N개의 자연수가 주어진다. -->
    <!-- 출력 : 자릿수의 합이 최대인 자연수를 출력한다. -->
    <!-- 입력 예시 : 7 460 128 603 40 521 137 123 1200 -->
    <!-- 출력 예시 : 137 -->
    <script>
        function solution(arr) {
            let answer = 0, max = Number.MIN_SAFE_INTEGER;  // 초기값 설정: 'answer'는 최대 자릿수 합을 가진 숫자, 'max'는 가장 큰 자릿수 합

            // 배열 'arr'에 있는 각 숫자 'x'에 대해 반복
            for (let x of arr) {
                // 방법1: while문을 사용하여 자릿수 합을 구할 수 있지만 여기서는 다른 방법을 사용
                // let sum = 0, temp = x;
                // while (temp) {
                //     sum += (temp % 10); // 마지막 자릿수 추출
                //     temp = Math.floor(temp / 10); // 나머지 숫자 처리
                // }

                // 방법2: 내장함수를 이용하여 자릿수 합 구하기
                // x.toString()으로 숫자를 문자열로 변환한 후, split('')으로 각 자릿수를 분리
                // reduce((a, b) => a + Number(b), 0)로 각 자릿수를 더하여 자릿수 합을 구함
                let sum = x.toString().split('').reduce((a, b) => a + Number(b), 0);

                // 현재 자릿수 합(sum)이 최대값(max)보다 클 경우
                if (sum > max) {
                    max = sum;  // 자릿수 합 최대값 갱신
                    answer = x; // 최대 자릿수 합을 가진 숫자 갱신
                }
                // 자릿수 합이 같을 경우 더 큰 숫자를 출력해야 하므로
                else if (sum === max) {
                    if (answer < x) {  // 현재 값(x)이 이전에 저장된 값(answer)보다 클 경우
                        answer = x; // 더 큰 숫자로 갱신
                    }
                }
            }

            return answer;  // 자릿수 합이 최대인 숫자를 반환
        }

        let arr = [7, 460, 137, 603, 40, 521, 128, 123, 1200];  // 입력된 숫자 배열

        console.log(solution(arr));  // 137 = 1+3+7 -> 11
    </script>
</body>

</html>